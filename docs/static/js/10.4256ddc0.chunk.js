(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[10],{1673:function(e,n,t){"use strict";(function(e){var a,c,r=t(14),o=t(1729),i=t(1700),s=t(1740),u=t(1732),l=t(115),j=t(519),f=t(1675),p=t(1676),b=t(1724),h=t(1725),d=t(18),O=t(0),x=t.n(O),v=t(27),g=t(251),m=t(53),T=t(298),y=t(2),w="http://localhost";n.a=function(n){var t=n.open,a=n.setOpen,c=n.txHash,r=Object(m.a)().getI18nText,l=x.a.useCallback((function(){navigator.clipboard.writeText(c)}),[c]);return Object(y.jsx)(o.a,{open:t,onClose:function(){return a(!1)},children:Object(y.jsxs)(k,{children:[Object(y.jsx)(i.a,{variant:"h6",component:"div",children:r("invite")}),Object(y.jsxs)(s.a,{children:[Object(y.jsx)(u.a,{button:!0,children:Object(y.jsx)(b.a,{url:"".concat(w,"/canvas/").concat(c),children:Object(y.jsxs)(C,{children:[Object(y.jsx)(g.b.Provider,{value:{size:"32px"},children:Object(y.jsx)(j.f,{})}),Object(y.jsx)(v.a,{MLeft:"16px",children:Object(y.jsx)(i.a,{variant:"h4",component:"div",children:r("share_twitter")})})]})})}),Object(y.jsx)(u.a,{button:!0,children:Object(y.jsx)(h.a,{url:"".concat(w,"/canvas/").concat(c),children:Object(y.jsxs)(C,{children:[Object(y.jsx)(g.b.Provider,{value:{size:"32px"},children:Object(y.jsx)(j.c,{})}),Object(y.jsx)(v.a,{MLeft:"16px",children:Object(y.jsx)(i.a,{variant:"h4",component:"div",children:r("share_facebook")})})]})})}),Object(y.jsx)(u.a,{button:!0,children:Object(y.jsxs)(C,{onClick:l,children:[Object(y.jsx)(g.b.Provider,{value:{size:"32px"},children:Object(y.jsx)(f.a,{})}),Object(y.jsx)(v.a,{MLeft:"16px",children:Object(y.jsx)(i.a,{variant:"h4",component:"div",children:r("share_clipboard")})})]})}),Object(y.jsx)(u.a,{button:!0,children:Object(y.jsxs)(C,{onClick:function(){console.log("apostille"),Object(T.a)(c).then((function(n){var t=n.split(",").map((function(n){return e.from(n,"base64")}));console.log("bufs",t)}))},children:[Object(y.jsx)(g.b.Provider,{value:{size:"32px"},children:Object(y.jsx)(p.a,{})}),Object(y.jsx)(v.a,{MLeft:"16px",children:Object(y.jsx)(i.a,{variant:"h4",component:"div",children:r("share_download")})})]})})]})]})})};var k=Object(d.a)(l.a)(a||(a=Object(r.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 50vw;\n  transform: translate(-50%, -50%);\n  padding: 16px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),C=Object(d.a)("div")(c||(c=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  align-content: center;\n  align-items: center;\n  margin: 4px 8px;\n"])))}).call(this,t(139).Buffer)},1735:function(e,n,t){"use strict";t.r(n);var a,c,r,o,i,s,u=t(0),l=t.n(u),j=t(9),f=t(14),p=t(19),b=t(835),h=t(834),d=t(18),O=t(519),x=t(1739),v=t(1731),g=t(1727),m=t(71),T=t(958),y=t(27),w=t(53),k=t(2),C=function(e){var n=e.stageRef,t=e.saveFile,a=e.image,c=e.sharePrev,r=l.a.useState("pen"),o=Object(j.a)(r,2),i=o[0],s=o[1],u=l.a.useState(5),f=Object(j.a)(u,2),h=f[0],d=f[1],C=l.a.useState("#000000"),R=Object(j.a)(C,2),I=R[0],M=R[1],_=l.a.useState([]),B=Object(j.a)(_,2),H=B[0],U=B[1],J=l.a.useRef(!1),L=Object(w.a)().getI18nText;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(P,{children:[Object(k.jsxs)(S,{children:[Object(k.jsx)(x.a,{component:"span",onClick:function(){return s("pen")},children:"pen"===i?Object(k.jsx)(O.e,{}):Object(k.jsx)(O.d,{})}),"pen"===i?Object(k.jsx)(A,{color:I}):Object(k.jsx)(A,{color:"white"})]}),Object(k.jsxs)(S,{children:[Object(k.jsx)(x.a,{component:"span",onClick:function(){return s("eraser")},children:"eraser"===i?Object(k.jsx)(O.b,{}):Object(k.jsx)(O.a,{})}),Object(k.jsx)(A,{color:"white"})]}),Object(k.jsx)(F,{children:Object(k.jsx)(v.a,{"aria-label":"Custom marks",defaultValue:3,valueLabelDisplay:"auto",max:20,min:1,marks:[{value:1,label:"1pt"},{value:3,label:"3pt"},{value:5,label:"5pt"},{value:10,label:"10pt"},{value:15,label:"15pt"},{value:20,label:"20pt"}],onChange:function(e){return d(e.target.value)}})})]}),Object(k.jsxs)(P,{children:[Object(k.jsx)(E,{children:Object(k.jsx)(b.d,{width:500,height:500,onMouseDown:function(e){J.current=!0;var n=e.target.getStage().getPointerPosition();U([].concat(Object(p.a)(H),[{tool:i,points:[n.x,n.y],color:I,size:h}]))},onMousemove:function(e){if(J.current){var n=e.target.getStage().getPointerPosition(),t=H[H.length-1];t.points=t.points.concat([n.x,n.y]),H.splice(H.length-1,1,t),U(H.concat())}},onMouseup:function(){J.current=!1},style:{border:"solid",marginTop:"10px"},ref:n,children:Object(k.jsxs)(b.b,{children:[null!==a&&Object(k.jsx)(b.a,{image:a}),H.map((function(e,n){return Object(k.jsx)(b.c,{points:e.points,stroke:e.color,strokeWidth:e.size,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},n)}))]})})}),Object(k.jsx)(N,{color:I,onChangeComplete:function(e){M(e.hex)}})]}),Object(k.jsxs)(D,{children:[Object(k.jsx)(y.a,{margin:"16px",children:Object(k.jsx)(g.a,{title:L("tooltip_current_art"),children:Object(k.jsx)(m.a,{variant:"outlined",endIcon:Object(k.jsx)(T.a,{}),onClick:t,children:"Share Current Art"})})}),Object(k.jsx)(y.a,{margin:"16px",children:Object(k.jsx)(g.a,{title:L("tooltip_previous_art"),children:Object(k.jsx)(m.a,{variant:"outlined",endIcon:Object(k.jsx)(T.a,{}),onClick:c,children:"Share Previous Art"})})})]})]})},P=d.a.div(a||(a=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n"]))),S=d.a.div(c||(c=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),E=d.a.div(r||(r=Object(f.a)(["\n  background-color: #ffffff;\n"]))),F=d.a.div(o||(o=Object(f.a)(["\n  width: 500px;\n  margin: 0px 32px;\n"]))),N=Object(d.a)(h.a)({marginTop:"10px",marginLeft:"20px"}),A=Object(d.a)("div")(i||(i=Object(f.a)(["\n  background: ",";\n  height: 4px;\n"])),(function(e){return e.color})),D=Object(d.a)("div")(s||(s=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n"]))),R=t(298),I=t(1673),M=function(e){var n=e.hash,t=l.a.useState(new Image),a=Object(j.a)(t,2),c=a[0],r=a[1],o=l.a.useRef(null),i=l.a.useState(!1),s=Object(j.a)(i,2),u=s[0],f=s[1],p=l.a.useState(!1),b=Object(j.a)(p,2),h=b[0],d=b[1],O=l.a.useState(""),x=Object(j.a)(O,2),v=x[0],g=x[1],m=l.a.useState(!0),T=Object(j.a)(m,2),y=T[0],w=T[1],P=l.a.useState(!1),S=Object(j.a)(P,2),E=S[0],F=S[1];if(l.a.useEffect((function(){if(""===n)return console.log("new game"),void w(!1);console.log("import:",n),Object(R.b)(n).then((function(e){w(!1);var n=new Image;n.src=e,r(n)})).catch((function(){console.log("dame"),F(!0)}))}),[n]),E)return Object(k.jsx)("div",{children:"NotFound This Transaction"});if(y)return Object(k.jsx)("div",{children:"GetTransaction...."});return Object(k.jsxs)("div",{children:[Object(k.jsx)(C,{saveFile:function(){if(null!==o.current){var e=o.current.toDataURL();console.log(e),Object(R.c)(e,"draw-chain",n).then((function(e){return g(e)})),f(!0)}},stageRef:o,image:c,sharePrev:function(){d(!0)}}),Object(k.jsx)(I.a,{open:u,setOpen:f,txHash:v}),Object(k.jsx)(I.a,{open:h,setOpen:d,txHash:n})]})},_=t(4);n.default=function(){var e=Object(_.g)().hash;return Object(k.jsx)(M,{hash:e||""})}},298:function(e,n,t){"use strict";t.d(n,"b",(function(){return j})),t.d(n,"a",(function(){return f})),t.d(n,"c",(function(){return d}));var a=t(54),c=t(299),r=t(140),o=t.n(r),i=t(194),s="7FCCD304802016BEBBCD342A332F91FF1F3BB5E902988B352697BE245F48E836",u="https://sym-test-01.opening-line.jp:3001",l=1637848847,j=function(){var e=Object(c.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){b(n).then((function(n){if(n instanceof i.TransferTransaction){var t=JSON.parse(n.message.payload).data;e(h(t))}})).catch((function(){var a=setInterval((function(){p(n).then((function(){setTimeout((function(){b(n).then((function(n){if(clearInterval(a),n instanceof i.TransferTransaction){var t=JSON.parse(n.message.payload).data;e(h(t))}})).catch((function(){t("404")}))}),1e3)})).catch((function(){console.log("loading")}))}),1e3)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],new Promise((function(e,t){b(n).then((function(e){e instanceof i.TransferTransaction&&console.log("data",JSON.parse(e.message.payload))}))})),e.abrupt("return",new Promise((function(e,t){b(n).then((function(n){if(n instanceof i.TransferTransaction){var t=JSON.parse(n.message.payload).data;console.log("previous hash",JSON.parse(n.message.payload).previousHash),e([h(t),h(t)].join(","))}})).catch((function(){var a=setInterval((function(){p(n).then((function(){setTimeout((function(){b(n).then((function(n){if(clearInterval(a),n instanceof i.TransferTransaction){var t=JSON.parse(n.message.payload).data;e([h(t),h(t)].join(","))}})).catch((function(){t("404")}))}),1e3)})).catch((function(){console.log("loading")}))}),1e3)}))})));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(e){var n=new i.RepositoryFactoryHttp(u).createTransactionRepository();return new Promise((function(t,a){n.getTransaction(e,i.TransactionGroup.Unconfirmed).toPromise().then((function(){a()})).catch((function(){t()}))}))},b=function(e){var n=new i.RepositoryFactoryHttp(u).createTransactionRepository();return new Promise((function(t,a){n.getTransaction(e,i.TransactionGroup.Confirmed).toPromise().then((function(e){t(e)})).catch((function(){a()}))}))},h=function(){var e=Object(c.a)(o.a.mark((function e(n){var t,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new i.RepositoryFactoryHttp(u),c=t.createTransactionRepository(),r="",e.abrupt("return",new Promise((function(e){c.getTransaction(n,i.TransactionGroup.Confirmed).toPromise().then((function(n){var t,c=n.innerTransactions,o=Object(a.a)(c);try{for(o.s();!(t=o.n()).done;){var i=t.value;r+=i.message.payload}}catch(s){o.e(s)}finally{o.f()}e(r)}))})));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(o.a.mark((function e(n,t,a){var c,r,j,f,p,b,h,d,O,x,v,g,m,T,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=i.Account.createFromPrivateKey("891D9D7E9672925123CFB7766CE9AC740BAFED43AE78F64CE2D296F54E62E57A",i.NetworkType.TEST_NET),r=i.Address.createFromRawAddress("TDEC5VUUAUYHKI2Y45WBDMGODAS42P3PPCTMGUY"),j=[],f=1023,p=0;p<=Math.floor(n.length/f);p++)b=n.slice(p*f,(p+1)*f),j.push(b);h=[],d=[],O=[],x=new i.RepositoryFactoryHttp(u),v=x.createTransactionRepository(),g=0;case 11:if(!(g<j.length)){e.next=25;break}if(m=i.TransferTransaction.create(i.Deadline.create(l),r,[],i.PlainMessage.create(j[g]),i.NetworkType.TEST_NET).toAggregate(c.publicAccount),h.push(m),g%100===99||g===j.length-1){e.next=16;break}return e.abrupt("continue",22);case 16:T=i.AggregateTransaction.createComplete(i.Deadline.create(l),h,i.NetworkType.TEST_NET,[],i.UInt64.fromUint(1e7)),y=c.sign(T,s),v.announce(y).subscribe((function(e){return console.log(e)}),(function(e){return console.error(e)})),d.push(y),O.push(y.hash),console.log("a",y);case 22:g++,e.next=11;break;case 25:return e.abrupt("return",new Promise((function(e){setTimeout((function(){for(var n=JSON.stringify({version:1,name:"symbol-draw",mode:t,previousHash:a,data:O.join(",")}),o=[],u=0;u<=Math.floor(n.length/f);u++)o.push(n.substr(u*f,f));var j=i.TransferTransaction.create(i.Deadline.create(l),r,[],i.PlainMessage.create(n),i.NetworkType.TEST_NET,i.UInt64.fromUint(2e6)),p=c.sign(j,s);v.announce(p).subscribe((function(e){return console.log(e)}),(function(e){return console.error(e)})),e(p.hash)}),1e3)})));case 26:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}()},300:function(e,n){},301:function(e,n){},303:function(e,n){},304:function(e,n){},307:function(e,n){},308:function(e,n){},309:function(e,n){},310:function(e,n){},311:function(e,n){},313:function(e,n){},315:function(e,n){},317:function(e,n){}}]);
//# sourceMappingURL=10.4256ddc0.chunk.js.map