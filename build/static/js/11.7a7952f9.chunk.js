(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[11],{1726:function(e,t,n){"use strict";n.r(t);var o,r,c=n(53),a=n(14),i=n(299),s=n(19),u=n(9),l=n(140),p=n.n(l),j=n(0),f=n.n(j),h=n(835),b=n(834),g=n(1693),d=n(194),v=n(2);t.default=function(){var e=f.a.useState(null),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(j.useState)("6F353427DA7F0DA7F32BB9D2029C632E01CC5E4E917DBB3F5D7C4790393FC9C3"),c=Object(u.a)(r,2),a=c[0],l=c[1],b=1637848847,g="https://sym-test-01.opening-line.jp:3001",T=d.Account.createFromPrivateKey("B060A0B8F871B14062FECE3D7582ECC89D701C397C42B4F4CE25AEE908E1D489",d.NetworkType.TEST_NET),y=d.Account.createFromPrivateKey("2923092B527C596847029201AEA7E5E5BA6A86D3FA007A2736D5FE4B396531E3",d.NetworkType.TEST_NET),F=f.a.useState("pen"),m=Object(u.a)(F,2),B=m[0],A=m[1],D=f.a.useState(5),w=Object(u.a)(D,2),S=w[0],k=w[1],P=f.a.useState("#000000"),N=Object(u.a)(P,2),R=N[0],M=N[1],U=f.a.useState([]),L=Object(u.a)(U,2),_=L[0],H=L[1],z=f.a.useRef(!1),I=f.a.useRef(null),J=function(){var e=Object(i.a)(p.a.mark((function e(){var t,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hash",a),t=new d.RepositoryFactoryHttp(g),n=t.createTransactionRepository(),e.t0=E,e.next=6,n.getTransaction(a,d.TransactionGroup.Confirmed).toPromise();case 6:e.t1=e.sent,r=(0,e.t0)(e.t1),console.log("data",r),(c=new Image).src=r,o(c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(O,{children:[Object(v.jsxs)("select",{value:B,onChange:function(e){A(e.target.value)},children:[Object(v.jsx)("option",{value:"pen",children:"\u30da\u30f3"}),Object(v.jsx)("option",{value:"eraser",children:"\u6d88\u3057\u30b4\u30e0"})]}),Object(v.jsxs)("select",{value:S,onChange:function(e){k(e.target.value)},children:[Object(v.jsx)("option",{value:"3",children:"3"}),Object(v.jsx)("option",{value:"5",children:"5"}),Object(v.jsx)("option",{value:"10",children:"10"}),Object(v.jsx)("option",{value:"15",children:"15"}),Object(v.jsx)("option",{value:"20",children:"20"})]}),Object(v.jsx)("button",{id:"save",onClick:function(){if(null!==I.current){for(var e=I.current.toDataURL(),t=[],n=1023,o=0;o<=Math.floor(e.length/n);o++){var r=e.slice(o*n,(o+1)*n);t.push(r)}console.log("arr",t);for(var c=[],a=[],i=[],s=0;s<t.length;s++){var u=d.TransferTransaction.create(d.Deadline.create(b),y.address,[],d.PlainMessage.create(t[s]),d.NetworkType.TEST_NET).toAggregate(T.publicAccount);if(c.push(u),s%100===99||s===t.length-1){var p=d.AggregateTransaction.createComplete(d.Deadline.create(b),c,d.NetworkType.TEST_NET,[],d.UInt64.fromUint(2e6)),j=T.sign(p,"7FCCD304802016BEBBCD342A332F91FF1F3BB5E902988B352697BE245F48E836");a.push(j),i.push(j.hash);var f=new d.RepositoryFactoryHttp(g).createTransactionRepository();console.log("a",j),f.announce(j).subscribe((function(e){return console.log(e)}),(function(e){return console.error(e)}))}}l(i.join(","))}},children:"PUSH"}),Object(v.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)}}),Object(v.jsx)("button",{id:"import",onClick:J,children:"PULL"})]}),Object(v.jsxs)(O,{children:[Object(v.jsx)(x,{children:Object(v.jsx)(h.d,{width:500,height:500,onMouseDown:function(e){z.current=!0;var t=e.target.getStage().getPointerPosition();H([].concat(Object(s.a)(_),[{tool:B,points:[t.x,t.y],color:R,size:S}]))},onMousemove:function(e){if(z.current){var t=e.target.getStage().getPointerPosition(),n=_[_.length-1];n.points=n.points.concat([t.x,t.y]),_.splice(_.length-1,1,n),H(_.concat())}},onMouseup:function(){z.current=!1},style:{border:"solid",marginTop:"10px"},ref:I,children:Object(v.jsxs)(h.b,{children:[null!==n&&Object(v.jsx)(h.a,{image:n}),_.map((function(e,t){return Object(v.jsx)(h.c,{points:e.points,stroke:e.color,strokeWidth:e.size,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"},t)}))]})})}),Object(v.jsx)(C,{color:R,onChangeComplete:function(e){M(e.hex)}})]})]})};var O=g.a.div(o||(o=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n"]))),x=g.a.div(r||(r=Object(a.a)(["\n  background-color: #ffffff;\n"]))),C=Object(g.a)(b.a)({marginTop:"10px",marginLeft:"20px"});function E(e){var t,n="",o=e.innerTransactions,r=Object(c.a)(o);try{for(r.s();!(t=r.n()).done;){n+=t.value.message.payload}}catch(a){r.e(a)}finally{r.f()}return n}},300:function(e,t){},301:function(e,t){},303:function(e,t){},304:function(e,t){},307:function(e,t){},308:function(e,t){},309:function(e,t){},310:function(e,t){},311:function(e,t){},313:function(e,t){},315:function(e,t){},317:function(e,t){}}]);
//# sourceMappingURL=11.7a7952f9.chunk.js.map